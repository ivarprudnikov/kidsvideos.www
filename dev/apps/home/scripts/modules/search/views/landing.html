<div class="search-form text-center">
    <form class="form-inline" ng-submit="search()">
        <div class="form-group">
            <input type="text" class="form-control" name="search_term" ng-model="params.search_term" value="{{params.search_term}}" placeholder="eg. dora explorer">
        </div>
        <div class="form-group">
            <select class="form-control" ng-model="params.type" ng-options="type as obj.name for (type,obj) in types"></select>
        </div>
        <button type="submit" class="btn btn-default">Search</button>
    </form>
</div>



<div class="video-overlay" ng-if="videoId">

    <div class="video-overlay-pattern"></div>

    <button class="close-video btn btn-danger btn-lg" ng-click="closeVideo()">&times;<span class="sr-only">close</span></button>

    <div class="video-container">
        <youtube-player
                videoid="videoId"
                on-next-load-video-id="loadNextId(currentId)"
                on-previous-load-video-id="loadPreviousId(currentId)"
                playerorigin="'http://localhost:9000'" />
    </div>
</div>



<div class="container-fluid">

    <div class="row">

        <div class="col-sm-12">

            <div ng-if="results != null && results.items && !results.items.length" class="alert alert-warning">Nothing found</div>

            <div ng-if="loadingMessage" loader message="loadingMessage"></div>

            <div ng-if="results && results.items">

                <div class="row" ng-repeat="(itemIdx,item) in results.items" ng-if="itemIdx % 4 == 0">

                    <div class="col-sm-3" ng-repeat="elIdx in [0,1,2,3]" ng-if="results.items[itemIdx+elIdx]">

                        <result-small
                                is-active="videoId === results.items[itemIdx+elIdx].id"
                                image-url="results.items[itemIdx+elIdx].image[ results.items[itemIdx+elIdx].image.length - 1 ].url"
                                on-image-click="previewVideo(results.items[itemIdx+elIdx].id)"
                                title="results.items[itemIdx+elIdx].displayName"
                                on-title-click="previewVideo(results.items[itemIdx+elIdx].id)"
                                status="results.items[itemIdx+elIdx].isApproved ? 'approved' : results.items[itemIdx+elIdx].isSkipped ? 'skipped' : results.items[itemIdx+elIdx].isPending ? 'pending' : '' "
                                actions="{
                                    'Add to playlist' : 'addTo(itemIdx+elIdx)'
                                }"
                                ></result-small>

                    </div>

                </div>
            </div>


            <ul class="pager pager-branded" ng-if="results.links.prev || results.links.next">
                <li ng-if="results.links.prev">
                    <a class="btn btn-default" ng-click="prev()">
                        <span class="sr-only">Previous page</span>
                        <span class="icon-left-open"></span>
                    </a>
                </li>
                <li ng-if="results.links.next">
                    <a class="btn btn-default" ng-click="next()">
                        <span class="icon-right-open"></span>
                    </a>
                </li>
            </ul>

        </div>

    </div>

</div>


